name: Deploy .NET to on-prem Octopus installation

on:
  push:
    tags:
      - v**
  release:
    types: [created]

jobs:
  call-deploy:
    name: Call Deploy Workflow
    uses: Nykredit/.github/.github/workflows/deploy-dotnet-onprem-octpus.yml@main
    with:
      package-id: 'INSERT PACKAGE ID'
      main-project: 'INSERT MAIN PROJECT'
      octopus-project: 'INSERT OCTOPUS PROJECT'
      octopus-environment: 'Test'
    secrets: 
      sonar-api-key: ${{secrets.SONAR_APIKEY}}
      nexus-user: ${{secrets.NEXUS_USER}}
      nexus-password: ${{ secrets.NEXUS_PASSWORD }}
      octopus-api-key: ${{ secrets.OCTOPUS_API_KEY }}
